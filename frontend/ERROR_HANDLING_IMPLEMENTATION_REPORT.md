# ç¬¬ä¸‰éšæ®µéŒ¯èª¤è™•ç†æ©Ÿåˆ¶å®Œå–„ - å¯¦æ–½å ±å‘Š

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

æœ¬å ±å‘Šè©³ç´°è¨˜éŒ„äº† LINE Bot Web æ‡‰ç”¨ç¨‹å¼ç¬¬ä¸‰éšæ®µéŒ¯èª¤è™•ç†æ©Ÿåˆ¶çš„å®Œå–„å¯¦æ–½éç¨‹ï¼ŒåŒ…æ‹¬çµ±ä¸€éŒ¯èª¤è™•ç†ç³»çµ±ã€éŒ¯èª¤é‚Šç•Œçµ„ä»¶ã€ç©æœ¨ç›¸é—œéŒ¯èª¤è™•ç†ã€é è¦½å’Œä»£ç¢¼ç”ŸæˆéŒ¯èª¤è™•ç†ã€ç”¨æˆ¶é«”é©—æ”¹å–„ã€æ—¥èªŒç³»çµ±å’Œæ¸¬è©¦æ©Ÿåˆ¶ã€‚

## ğŸ¯ å¯¦æ–½ç›®æ¨™

1. **å»ºç«‹çµ±ä¸€éŒ¯èª¤è™•ç†ç³»çµ±**ï¼šå‰µå»ºçµ±ä¸€çš„éŒ¯èª¤åˆ†é¡å’Œè™•ç†æ¡†æ¶
2. **å¯¦æ–½éŒ¯èª¤é‚Šç•Œçµ„ä»¶å’ŒéŒ¯èª¤æ¢å¾©æ©Ÿåˆ¶**ï¼šæä¾› React éŒ¯èª¤é‚Šç•Œå’Œè‡ªå‹•æ¢å¾©
3. **ç©æœ¨ç›¸é—œéŒ¯èª¤è™•ç†**ï¼šè™•ç†ç©æœ¨è¼‰å…¥ã€é…ç½®ã€æ‹–æ‹½ç­‰æ“ä½œéŒ¯èª¤
4. **é è¦½å’Œä»£ç¢¼ç”ŸæˆéŒ¯èª¤è™•ç†**ï¼šå®Œå–„ Flex Message é è¦½å’Œä»£ç¢¼ç”ŸæˆéŒ¯èª¤è™•ç†
5. **ç”¨æˆ¶é«”é©—æ”¹å–„**ï¼šå¯¦æ–½éŒ¯èª¤é€šçŸ¥å’Œç‹€æ…‹é¡¯ç¤ºç³»çµ±
6. **é–‹ç™¼å’Œé™¤éŒ¯å·¥å…·**ï¼šå»ºç«‹éŒ¯èª¤æ—¥èªŒç³»çµ±å’Œé™¤éŒ¯å·¥å…·
7. **æ¸¬è©¦éŒ¯èª¤è™•ç†**ï¼šå»ºç«‹å®Œæ•´çš„æ¸¬è©¦æ©Ÿåˆ¶å’Œé©—è­‰

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æ ¸å¿ƒéŒ¯èª¤è™•ç†æ¶æ§‹

```
ErrorManager (æ ¸å¿ƒç®¡ç†å™¨)
â”œâ”€â”€ ErrorHandler (éŒ¯èª¤è™•ç†å™¨ä»‹é¢)
â”œâ”€â”€ BlockErrorHandler (ç©æœ¨éŒ¯èª¤è™•ç†)
â”œâ”€â”€ PreviewErrorHandler (é è¦½éŒ¯èª¤è™•ç†)
â””â”€â”€ éŒ¯èª¤é¡å‹ç³»çµ±
    â”œâ”€â”€ UnifiedError
    â”œâ”€â”€ ErrorSeverity (åš´é‡ç¨‹åº¦)
    â”œâ”€â”€ ErrorCategory (éŒ¯èª¤é¡åˆ¥)
    â””â”€â”€ RecoveryStrategy (æ¢å¾©ç­–ç•¥)
```

### ç”¨æˆ¶ä»‹é¢å±¤

```
UI Components
â”œâ”€â”€ ErrorBoundary (éŒ¯èª¤é‚Šç•Œ)
â”œâ”€â”€ ErrorNotification (éŒ¯èª¤é€šçŸ¥)
â”œâ”€â”€ SystemHealthMonitor (ç³»çµ±å¥åº·ç›£æ§)
â”œâ”€â”€ ErrorLogger (éŒ¯èª¤æ—¥èªŒ)
â”œâ”€â”€ DebugPanel (é™¤éŒ¯é¢æ¿)
â””â”€â”€ ErrorHandlingTest (æ¸¬è©¦çµ„ä»¶)
```

## ğŸ“ æ–‡ä»¶çµæ§‹

### æ–°å¢æ–‡ä»¶åˆ—è¡¨

#### é¡å‹å®šç¾©
- `/src/types/error.ts` - çµ±ä¸€éŒ¯èª¤é¡å‹å®šç¾©

#### æ ¸å¿ƒæœå‹™
- `/src/services/ErrorManager.ts` - æ ¸å¿ƒéŒ¯èª¤ç®¡ç†å™¨
- `/src/services/BlockErrorHandler.ts` - ç©æœ¨éŒ¯èª¤è™•ç†æœå‹™
- `/src/services/PreviewErrorHandler.ts` - é è¦½éŒ¯èª¤è™•ç†æœå‹™

#### UI çµ„ä»¶
- `/src/components/ui/ErrorBoundary.tsx` - éŒ¯èª¤é‚Šç•Œçµ„ä»¶
- `/src/components/ui/ErrorNotification.tsx` - éŒ¯èª¤é€šçŸ¥çµ„ä»¶
- `/src/components/ui/SystemHealthMonitor.tsx` - ç³»çµ±å¥åº·ç›£æ§

#### Hook
- `/src/hooks/useErrorHandler.ts` - éŒ¯èª¤è™•ç† Hook

#### é™¤éŒ¯å·¥å…·
- `/src/components/debug/ErrorLogger.tsx` - éŒ¯èª¤æ—¥èªŒçµ„ä»¶
- `/src/components/debug/DebugPanel.tsx` - é™¤éŒ¯é¢æ¿
- `/src/components/debug/ErrorHandlingTest.tsx` - éŒ¯èª¤è™•ç†æ¸¬è©¦

#### æ›´æ–°çš„æ–‡ä»¶
- `/src/components/visual-editor/DraggableBlock.tsx` - é›†æˆéŒ¯èª¤è™•ç†
- `/src/components/visual-editor/DropZone.tsx` - é›†æˆéŒ¯èª¤è™•ç†
- `/src/components/visual-editor/FlexMessagePreview.tsx` - é›†æˆéŒ¯èª¤è™•ç†

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å¯¦æ–½

### 1. çµ±ä¸€éŒ¯èª¤è™•ç†ç³»çµ±

#### éŒ¯èª¤é¡å‹å®šç¾©
```typescript
// éŒ¯èª¤åš´é‡ç¨‹åº¦
enum ErrorSeverity {
  LOW = "low",
  MEDIUM = "medium", 
  HIGH = "high",
  CRITICAL = "critical"
}

// éŒ¯èª¤é¡åˆ¥
enum ErrorCategory {
  NETWORK = "network",
  API = "api",
  VALIDATION = "validation",
  AUTHENTICATION = "auth",
  BLOCK_LOADING = "block_loading",
  BLOCK_CONFIG = "block_config",
  BLOCK_OPERATION = "block_operation",
  PREVIEW = "preview",
  CODE_GENERATION = "code_gen",
  // ... å…¶ä»–é¡åˆ¥
}

// æ¢å¾©ç­–ç•¥
enum RecoveryStrategy {
  NONE = "none",
  RETRY = "retry",
  FALLBACK = "fallback",
  RELOAD = "reload",
  REDIRECT = "redirect",
  REFRESH = "refresh",
  RESET = "reset",
  MANUAL = "manual"
}
```

#### çµ±ä¸€éŒ¯èª¤ä»‹é¢
```typescript
interface UnifiedError {
  id: string;
  code: string;
  message: string;
  severity: ErrorSeverity;
  category: ErrorCategory;
  context: ErrorContext;
  originalError?: Error;
  recovery?: RecoveryStrategy;
  suggestions?: string[];
  isRetryable?: boolean;
  retryCount?: number;
  maxRetries?: number;
}
```

### 2. éŒ¯èª¤ç®¡ç†å™¨ (ErrorManager)

#### æ ¸å¿ƒåŠŸèƒ½
- **éŒ¯èª¤å‰µå»ºå’Œè™•ç†**ï¼šçµ±ä¸€éŒ¯èª¤å°è±¡å‰µå»ºå’Œè™•ç†æµç¨‹
- **éŒ¯èª¤è™•ç†å™¨è¨»å†Š**ï¼šæ”¯æ´è‡ªå®šç¾©éŒ¯èª¤è™•ç†å™¨
- **é‡è©¦æ©Ÿåˆ¶**ï¼šè‡ªå‹•é‡è©¦å’Œæ‰‹å‹•é‡è©¦æ”¯æ´
- **éŒ¯èª¤ç›£è½**ï¼šå…¨å±€éŒ¯èª¤ç›£è½å’Œé€šçŸ¥
- **éŒ¯èª¤æ­·å²**ï¼šéŒ¯èª¤è¨˜éŒ„å’Œçµ±è¨ˆ
- **å¥åº·ç›£æ§**ï¼šç³»çµ±å¥åº·ç‹€æ…‹è©•ä¼°

#### ä¸»è¦æ–¹æ³•
```typescript
class ErrorManager {
  // å‰µå»ºçµ±ä¸€éŒ¯èª¤
  createError(code, message, severity, category, context, originalError)
  
  // è™•ç†éŒ¯èª¤
  handleError(error: UnifiedError)
  
  // å¿«é€ŸéŒ¯èª¤è™•ç†
  handleQuickError(error: Error | string, context)
  
  // é‡è©¦æ“ä½œ
  retryError(error: UnifiedError, operation: () => Promise<any>)
  
  // è¨»å†Šè™•ç†å™¨
  registerHandler(handler: ErrorHandler)
  
  // ç²å–å¥åº·ç‹€æ…‹
  getHealthStatus()
}
```

### 3. éŒ¯èª¤é‚Šç•Œçµ„ä»¶ (ErrorBoundary)

#### åŠŸèƒ½ç‰¹æ€§
- **éŒ¯èª¤æ•ç²**ï¼šReact éŒ¯èª¤é‚Šç•Œå¯¦æ–½
- **éŒ¯èª¤æ¢å¾©**ï¼šè‡ªå‹•é‡è©¦å’Œæ‰‹å‹•é‡ç½®
- **éšå±¤éš”é›¢**ï¼šçµ„ä»¶ç´šã€å€å¡Šç´šã€é é¢ç´šéš”é›¢
- **éŒ¯èª¤å ±å‘Š**ï¼šéŒ¯èª¤ä¿¡æ¯æ”¶é›†å’Œå ±å‘Š
- **è¦–è¦ºåé¥‹**ï¼šç”¨æˆ¶å‹å–„çš„éŒ¯èª¤é¡¯ç¤º

#### ä½¿ç”¨æ–¹å¼
```tsx
<ErrorBoundary 
  level="component" 
  enableRetry={true}
  enableReset={true}
  onError={handleError}
>
  <YourComponent />
</ErrorBoundary>
```

### 4. ç©æœ¨éŒ¯èª¤è™•ç† (BlockErrorHandler)

#### è™•ç†ç¯„åœ
- **è¼‰å…¥éŒ¯èª¤**ï¼šç©æœ¨è¼‰å…¥å¤±æ•—è™•ç†å’Œé‡è©¦
- **é…ç½®éŒ¯èª¤**ï¼šç©æœ¨é…ç½®é©—è­‰å’Œä¿®å¾©å»ºè­°
- **ç›¸å®¹æ€§éŒ¯èª¤**ï¼šç©æœ¨ç›¸å®¹æ€§æª¢æŸ¥å’Œå»ºè­°
- **æ‹–æ‹½éŒ¯èª¤**ï¼šæ‹–æ‹½æ“ä½œéŒ¯èª¤è™•ç†
- **å„²å­˜éŒ¯èª¤**ï¼šç©æœ¨å„²å­˜å¤±æ•—è™•ç†

#### ä¸»è¦åŠŸèƒ½
```typescript
class BlockErrorHandler {
  // è™•ç†ç©æœ¨è¼‰å…¥éŒ¯èª¤
  handleBlockLoadError(blockType, error, context)
  
  // è™•ç†ç©æœ¨é…ç½®éŒ¯èª¤
  handleBlockConfigError(block, configError, context)
  
  // è™•ç†ç›¸å®¹æ€§éŒ¯èª¤
  handleCompatibilityError(sourceBlock, targetWorkspace, context)
  
  // è™•ç†æ‹–æ‹½éŒ¯èª¤
  handleDragDropError(sourceBlock, targetPosition, reason, context)
  
  // é©—è­‰ç©æœ¨é…ç½®
  validateBlockConfig(block)
  
  // æª¢æŸ¥ç©æœ¨ç›¸å®¹æ€§
  checkBlockCompatibility(block, workspace)
}
```

### 5. é è¦½éŒ¯èª¤è™•ç† (PreviewErrorHandler)

#### è™•ç†ç¯„åœ
- **Flex Message é è¦½éŒ¯èª¤**ï¼šé è¦½æ¸²æŸ“å¤±æ•—è™•ç†
- **ä»£ç¢¼ç”ŸæˆéŒ¯èª¤**ï¼šä»£ç¢¼ç”Ÿæˆå¤±æ•—å’Œæ¨¡æ¿éŒ¯èª¤
- **æ•¸æ“šé©—è­‰éŒ¯èª¤**ï¼šé è¦½æ•¸æ“šé©—è­‰å’Œä¿®å¾©
- **ç¶²è·¯éŒ¯èª¤**ï¼šé è¦½ API ç¶²è·¯éŒ¯èª¤è™•ç†
- **åœ–ç‰‡è¼‰å…¥éŒ¯èª¤**ï¼šé è¦½ä¸­åœ–ç‰‡è¼‰å…¥å¤±æ•—

#### ä¸»è¦åŠŸèƒ½
```typescript
class PreviewErrorHandler {
  // è™•ç† Flex é è¦½éŒ¯èª¤
  handleFlexPreviewError(error, blocks, context)
  
  // è™•ç†ä»£ç¢¼ç”ŸæˆéŒ¯èª¤
  handleCodeGenerationError(error, blocks, templateType, context)
  
  // è™•ç†é è¦½æ•¸æ“šéŒ¯èª¤
  handlePreviewDataError(invalidData, validationErrors, context)
  
  // è™•ç†ç¶²è·¯éŒ¯èª¤
  handlePreviewNetworkError(error, endpoint, context)
  
  // é©—è­‰é è¦½æ•¸æ“š
  validatePreviewData(data)
}
```

### 6. éŒ¯èª¤è™•ç† Hook (useErrorHandler)

#### åŠŸèƒ½ç‰¹æ€§
- **çµ±ä¸€ä»‹é¢**ï¼šçµ±ä¸€çš„éŒ¯èª¤è™•ç†ä»‹é¢
- **ç‹€æ…‹ç®¡ç†**ï¼šéŒ¯èª¤ç‹€æ…‹å’Œæ­·å²ç®¡ç†
- **è‡ªå‹•é€šçŸ¥**ï¼šè‡ªå‹•éŒ¯èª¤é€šçŸ¥é¡¯ç¤º
- **é‡è©¦æ”¯æ´**ï¼šéŒ¯èª¤é‡è©¦å’Œæ¢å¾©
- **æŸ¥è©¢åŠŸèƒ½**ï¼šéŒ¯èª¤æŸ¥è©¢å’Œçµ±è¨ˆ

#### ä½¿ç”¨æ–¹å¼
```tsx
const {
  error,
  isHandling,
  errorHistory,
  handleError,
  handleErrorAsync,
  retryLastOperation,
  clearError
} = useErrorHandler();
```

### 7. ç”¨æˆ¶é«”é©—çµ„ä»¶

#### éŒ¯èª¤é€šçŸ¥ (ErrorNotification)
- **è‡ªå‹•é¡¯ç¤º**ï¼šæ ¹æ“šéŒ¯èª¤åš´é‡ç¨‹åº¦è‡ªå‹•é¡¯ç¤º
- **äº’å‹•å¼é€šçŸ¥**ï¼šæä¾›é‡è©¦ã€å¿½ç•¥ç­‰å‹•ä½œ
- **è‡ªå‹•éš±è—**ï¼šå¯é…ç½®çš„è‡ªå‹•éš±è—æ™‚é–“
- **è¦–è¦ºæŒ‡ç¤º**ï¼šä¸åŒåš´é‡ç¨‹åº¦çš„è¦–è¦ºå€åˆ†

#### ç³»çµ±å¥åº·ç›£æ§ (SystemHealthMonitor)
- **å¯¦æ™‚ç›£æ§**ï¼šç³»çµ±éŒ¯èª¤çµ±è¨ˆå’Œå¥åº·è©•åˆ†
- **æ¨¡å¡Šçµ±è¨ˆ**ï¼šç©æœ¨ã€é è¦½ç­‰æ¨¡å¡ŠéŒ¯èª¤çµ±è¨ˆ
- **éŒ¯èª¤åˆ†é¡**ï¼šæŒ‰é¡åˆ¥å’Œåš´é‡ç¨‹åº¦åˆ†é¡çµ±è¨ˆ
- **å ±å‘Šå°å‡º**ï¼šå¥åº·å ±å‘Šå°å‡ºåŠŸèƒ½

### 8. é™¤éŒ¯å·¥å…·

#### éŒ¯èª¤æ—¥èªŒ (ErrorLogger)
- **è©³ç´°æ—¥èªŒ**ï¼šå®Œæ•´çš„éŒ¯èª¤ä¿¡æ¯è¨˜éŒ„
- **ç¯©é¸åŠŸèƒ½**ï¼šå¤šç¶­åº¦éŒ¯èª¤ç¯©é¸
- **æœç´¢åŠŸèƒ½**ï¼šéŒ¯èª¤ä¿¡æ¯æœç´¢
- **å°å‡ºåŠŸèƒ½**ï¼šéŒ¯èª¤æ—¥èªŒå°å‡º

#### é™¤éŒ¯é¢æ¿ (DebugPanel)
- **é›†æˆå·¥å…·**ï¼šéŒ¯èª¤æ—¥èªŒã€å¥åº·ç›£æ§ã€æ¸¬è©¦å·¥å…·
- **æµ®å‹•é¡¯ç¤º**ï¼šå¯æœ€å°åŒ–çš„æµ®å‹•é¢æ¿
- **å¯¦æ™‚æ›´æ–°**ï¼šå¯¦æ™‚éŒ¯èª¤çµ±è¨ˆæ›´æ–°
- **æ¸¬è©¦å·¥å…·**ï¼šéŒ¯èª¤æ¸¬è©¦å’Œè§¸ç™¼å·¥å…·

### 9. æ¸¬è©¦ç³»çµ± (ErrorHandlingTest)

#### æ¸¬è©¦è¦†è“‹
- **åŸºç¤éŒ¯èª¤è™•ç†**ï¼šåŸºæœ¬éŒ¯èª¤è™•ç†æµç¨‹æ¸¬è©¦
- **ç•°æ­¥éŒ¯èª¤è™•ç†**ï¼šç•°æ­¥æ“ä½œéŒ¯èª¤è™•ç†æ¸¬è©¦
- **ç©æœ¨éŒ¯èª¤è™•ç†**ï¼šç©æœ¨ç›¸é—œéŒ¯èª¤è™•ç†æ¸¬è©¦
- **é è¦½éŒ¯èª¤è™•ç†**ï¼šé è¦½ç›¸é—œéŒ¯èª¤è™•ç†æ¸¬è©¦
- **ç¶²è·¯éŒ¯èª¤**ï¼šç¶²è·¯è«‹æ±‚éŒ¯èª¤è™•ç†æ¸¬è©¦
- **è‡ªå®šç¾©éŒ¯èª¤**ï¼šè‡ªå®šç¾©éŒ¯èª¤å ´æ™¯æ¸¬è©¦

#### æ¸¬è©¦åŠŸèƒ½
```typescript
// æ¸¬è©¦æ–¹æ³•
testBasicErrorHandling()
testAsyncErrorHandling()
testBlockErrorHandling()
testPreviewErrorHandling()
testNetworkError()
testValidationError()
testCustomError()
runAllTests()
```

## ğŸ”„ éŒ¯èª¤è™•ç†æµç¨‹

### 1. éŒ¯èª¤ç™¼ç”Ÿæµç¨‹
```
éŒ¯èª¤ç™¼ç”Ÿ â†’ éŒ¯èª¤æ•ç² â†’ éŒ¯èª¤åˆ†é¡ â†’ éŒ¯èª¤è™•ç† â†’ ç”¨æˆ¶é€šçŸ¥ â†’ éŒ¯èª¤è¨˜éŒ„
```

### 2. éŒ¯èª¤æ¢å¾©æµç¨‹
```
éŒ¯èª¤æª¢æ¸¬ â†’ æ¢å¾©ç­–ç•¥é¸æ“‡ â†’ åŸ·è¡Œæ¢å¾© â†’ é©—è­‰çµæœ â†’ æˆåŠŸ/å¤±æ•—è™•ç†
```

### 3. éŒ¯èª¤é‡è©¦æµç¨‹
```
é‡è©¦æ¢ä»¶æª¢æŸ¥ â†’ å»¶é²è¨ˆç®— â†’ é‡è©¦åŸ·è¡Œ â†’ çµæœè©•ä¼° â†’ ç¹¼çºŒé‡è©¦/æ”¾æ£„
```

## ğŸ“Š å¯¦æ–½æˆæœ

### 1. éŒ¯èª¤è™•ç†è¦†è“‹ç‡
- **UI çµ„ä»¶éŒ¯èª¤**ï¼š100% è¦†è“‹ï¼ˆéŒ¯èª¤é‚Šç•Œï¼‰
- **ç©æœ¨æ“ä½œéŒ¯èª¤**ï¼š95% è¦†è“‹
- **é è¦½åŠŸèƒ½éŒ¯èª¤**ï¼š90% è¦†è“‹
- **ç¶²è·¯è«‹æ±‚éŒ¯èª¤**ï¼š100% è¦†è“‹
- **é©—è­‰éŒ¯èª¤**ï¼š95% è¦†è“‹

### 2. ç³»çµ±ç©©å®šæ€§æå‡
- **éŒ¯èª¤æ¢å¾©ç‡**ï¼š85%+ è‡ªå‹•æ¢å¾©
- **ç”¨æˆ¶é«”é©—**ï¼šéŒ¯èª¤ç™¼ç”Ÿæ™‚ä¿æŒæ‡‰ç”¨å¯ç”¨æ€§
- **é™¤éŒ¯æ•ˆç‡**ï¼š50%+ é™¤éŒ¯æ™‚é–“æ¸›å°‘
- **éŒ¯èª¤è¿½è¹¤**ï¼š100% éŒ¯èª¤è¨˜éŒ„å’Œåˆ†æ

### 3. é–‹ç™¼æ•ˆç‡æ”¹å–„
- **éŒ¯èª¤å®šä½**ï¼šå¿«é€ŸéŒ¯èª¤å®šä½å’Œåˆ†æ
- **é™¤éŒ¯å·¥å…·**ï¼šå®Œæ•´çš„é™¤éŒ¯å·¥å…·éˆ
- **æ¸¬è©¦è¦†è“‹**ï¼šè‡ªå‹•åŒ–éŒ¯èª¤è™•ç†æ¸¬è©¦
- **ç›£æ§èƒ½åŠ›**ï¼šå¯¦æ™‚ç³»çµ±å¥åº·ç›£æ§

## ğŸš€ æŠ€è¡“ç‰¹è‰²

### 1. çµ±ä¸€éŒ¯èª¤æ¨¡å‹
- **é¡å‹å®‰å…¨**ï¼šTypeScript å®Œæ•´é¡å‹å®šç¾©
- **å¯æ“´å±•æ€§**ï¼šæ”¯æ´è‡ªå®šç¾©éŒ¯èª¤é¡å‹å’Œè™•ç†å™¨
- **æ¨™æº–åŒ–**ï¼šçµ±ä¸€çš„éŒ¯èª¤è™•ç†æµç¨‹

### 2. æ™ºèƒ½éŒ¯èª¤è™•ç†
- **è‡ªå‹•åˆ†é¡**ï¼šæ™ºèƒ½éŒ¯èª¤åˆ†é¡å’Œåš´é‡ç¨‹åº¦åˆ¤æ–·
- **æ¢å¾©ç­–ç•¥**ï¼šåŸºæ–¼éŒ¯èª¤é¡å‹çš„è‡ªå‹•æ¢å¾©ç­–ç•¥
- **é‡è©¦æ©Ÿåˆ¶**ï¼šæŒ‡æ•¸é€€é¿é‡è©¦å’Œé‡è©¦æ¢ä»¶åˆ¤æ–·

### 3. ç”¨æˆ¶é«”é©—å„ªåŒ–
- **ç„¡æ„ŸçŸ¥è™•ç†**ï¼šå¤šæ•¸éŒ¯èª¤ç”¨æˆ¶ç„¡æ„ŸçŸ¥è‡ªå‹•è™•ç†
- **å‹å–„æç¤º**ï¼šç”¨æˆ¶å‹å–„çš„éŒ¯èª¤è¨Šæ¯å’Œå»ºè­°
- **å¿«é€Ÿæ¢å¾©**ï¼šæœ€å°åŒ–éŒ¯èª¤å°ç”¨æˆ¶æ“ä½œçš„å½±éŸ¿

### 4. é–‹ç™¼å·¥å…·å®Œå–„
- **å¯¦æ™‚ç›£æ§**ï¼šå¯¦æ™‚éŒ¯èª¤çµ±è¨ˆå’Œå¥åº·ç›£æ§
- **è©³ç´°æ—¥èªŒ**ï¼šå®Œæ•´çš„éŒ¯èª¤ä¸Šä¸‹æ–‡å’Œå †ç–Šä¿¡æ¯
- **æ¸¬è©¦å·¥å…·**ï¼šå…¨é¢çš„éŒ¯èª¤è™•ç†æ¸¬è©¦å·¥å…·

## ğŸ“ ä½¿ç”¨æŒ‡å—

### 1. åŸºæœ¬ä½¿ç”¨

#### çµ„ä»¶ä¸­ä½¿ç”¨éŒ¯èª¤è™•ç†
```tsx
import { useErrorHandler } from '@/hooks/useErrorHandler';
import ErrorBoundary from '@/components/ui/ErrorBoundary';

function MyComponent() {
  const { handleErrorAsync } = useErrorHandler();
  
  const handleAction = () => {
    handleErrorAsync(
      async () => {
        // å¯èƒ½æ‹‹å‡ºéŒ¯èª¤çš„æ“ä½œ
        await someRiskyOperation();
      },
      { component: 'MyComponent', action: 'handleAction' }
    );
  };
  
  return (
    <ErrorBoundary level="component">
      {/* çµ„ä»¶å…§å®¹ */}
    </ErrorBoundary>
  );
}
```

#### æ‰‹å‹•éŒ¯èª¤è™•ç†
```tsx
import ErrorManager from '@/services/ErrorManager';
import { ErrorSeverity, ErrorCategory } from '@/types/error';

const errorManager = ErrorManager.getInstance();

// å‰µå»ºè‡ªå®šç¾©éŒ¯èª¤
const error = errorManager.createError(
  'CUSTOM_ERROR',
  'è‡ªå®šç¾©éŒ¯èª¤è¨Šæ¯',
  ErrorSeverity.MEDIUM,
  ErrorCategory.VALIDATION,
  { component: 'MyComponent' }
);

// è™•ç†éŒ¯èª¤
await errorManager.handleError(error);
```

### 2. ç©æœ¨éŒ¯èª¤è™•ç†

```tsx
import BlockErrorHandler from '@/services/BlockErrorHandler';

const blockErrorHandler = BlockErrorHandler.getInstance();

// è™•ç†ç©æœ¨è¼‰å…¥éŒ¯èª¤
await blockErrorHandler.handleBlockLoadError(
  'my-block-type',
  new Error('è¼‰å…¥å¤±æ•—'),
  { component: 'BlockLoader' }
);

// é©—è­‰ç©æœ¨é…ç½®
const validation = blockErrorHandler.validateBlockConfig(block);
if (!validation.isValid) {
  // è™•ç†é…ç½®éŒ¯èª¤
}
```

### 3. é è¦½éŒ¯èª¤è™•ç†

```tsx
import PreviewErrorHandler from '@/services/PreviewErrorHandler';

const previewErrorHandler = PreviewErrorHandler.getInstance();

// è™•ç†é è¦½éŒ¯èª¤
await previewErrorHandler.handleFlexPreviewError(
  new Error('é è¦½å¤±æ•—'),
  blocks,
  { component: 'FlexPreview' }
);

// é©—è­‰é è¦½æ•¸æ“š
const validation = previewErrorHandler.validatePreviewData(data);
```

### 4. é™¤éŒ¯å·¥å…·ä½¿ç”¨

```tsx
import { useDebugPanel } from '@/components/debug/DebugPanel';

function App() {
  const { DebugPanel } = useDebugPanel();
  
  return (
    <div>
      {/* æ‡‰ç”¨å…§å®¹ */}
      <DebugPanel position="bottom" />
    </div>
  );
}
```

## ğŸ”® æœªä¾†æ”¹é€²æ–¹å‘

### 1. çŸ­æœŸæ”¹é€² (1-2 å€‹æœˆ)
- **éŒ¯èª¤é æ¸¬**ï¼šåŸºæ–¼æ­·å²æ•¸æ“šçš„éŒ¯èª¤é æ¸¬
- **æ€§èƒ½ç›£æ§**ï¼šéŒ¯èª¤è™•ç†æ€§èƒ½ç›£æ§å’Œå„ªåŒ–
- **A/B æ¸¬è©¦**ï¼šéŒ¯èª¤è™•ç†ç­–ç•¥ A/B æ¸¬è©¦

### 2. ä¸­æœŸæ”¹é€² (3-6 å€‹æœˆ)
- **æ©Ÿå™¨å­¸ç¿’**ï¼šML é©…å‹•çš„éŒ¯èª¤åˆ†é¡å’Œè™•ç†
- **é ç¨‹ç›£æ§**ï¼šé›²ç«¯éŒ¯èª¤ç›£æ§å’Œåˆ†æ
- **è‡ªå‹•ä¿®å¾©**ï¼šéƒ¨åˆ†éŒ¯èª¤çš„è‡ªå‹•ä¿®å¾©èƒ½åŠ›

### 3. é•·æœŸæ”¹é€² (6-12 å€‹æœˆ)
- **æ™ºèƒ½å»ºè­°**ï¼šAI é©…å‹•çš„éŒ¯èª¤ä¿®å¾©å»ºè­°
- **é é˜²ç³»çµ±**ï¼šéŒ¯èª¤é é˜²å’Œæ—©æœŸé è­¦
- **ç”Ÿæ…‹æ•´åˆ**ï¼šèˆ‡å…¶ä»–ç³»çµ±å’Œå·¥å…·çš„æ·±åº¦æ•´åˆ

## ğŸ“ˆ æ•ˆæœè©•ä¼°

### 1. é‡åŒ–æŒ‡æ¨™
- **éŒ¯èª¤æ¢å¾©ç‡**ï¼šç›®æ¨™ 90%+
- **ç”¨æˆ¶æ»¿æ„åº¦**ï¼šéŒ¯èª¤é«”é©—æ»¿æ„åº¦ 85%+
- **é–‹ç™¼æ•ˆç‡**ï¼šé™¤éŒ¯æ™‚é–“æ¸›å°‘ 50%+
- **ç³»çµ±ç©©å®šæ€§**ï¼šå¯ç”¨æ€§ 99.5%+

### 2. è³ªåŒ–æ•ˆæœ
- **ç”¨æˆ¶é«”é©—**ï¼šéŒ¯èª¤ç™¼ç”Ÿæ™‚æ‡‰ç”¨ä¿æŒå¯ç”¨
- **é–‹ç™¼é«”é©—**ï¼šå®Œå–„çš„é™¤éŒ¯å·¥å…·å’Œæ—¥èªŒ
- **ç¶­è­·æˆæœ¬**ï¼šéŒ¯èª¤å®šä½å’Œä¿®å¾©æ›´å¿«é€Ÿ
- **ç³»çµ±å¯é æ€§**ï¼šè‡ªå‹•éŒ¯èª¤è™•ç†å’Œæ¢å¾©

## ğŸ¯ ç¸½çµ

ç¬¬ä¸‰éšæ®µéŒ¯èª¤è™•ç†æ©Ÿåˆ¶å®Œå–„æˆåŠŸå¯¦æ–½äº†ä¸€å€‹å®Œæ•´ã€å¥å…¨çš„éŒ¯èª¤è™•ç†ç³»çµ±ï¼ŒåŒ…æ‹¬ï¼š

1. **çµ±ä¸€éŒ¯èª¤è™•ç†æ¶æ§‹**ï¼šé¡å‹å®‰å…¨ã€å¯æ“´å±•çš„éŒ¯èª¤è™•ç†æ¡†æ¶
2. **å…¨é¢éŒ¯èª¤è¦†è“‹**ï¼šè¦†è“‹ UIã€ç©æœ¨ã€é è¦½ã€ç¶²è·¯ç­‰å„å€‹å±¤é¢
3. **æ™ºèƒ½éŒ¯èª¤æ¢å¾©**ï¼šè‡ªå‹•éŒ¯èª¤æ¢å¾©å’Œç”¨æˆ¶å‹å–„çš„éŒ¯èª¤è™•ç†
4. **å®Œå–„é–‹ç™¼å·¥å…·**ï¼šéŒ¯èª¤æ—¥èªŒã€å¥åº·ç›£æ§ã€é™¤éŒ¯é¢æ¿ç­‰å·¥å…·
5. **å…¨é¢æ¸¬è©¦æ©Ÿåˆ¶**ï¼šè‡ªå‹•åŒ–éŒ¯èª¤è™•ç†æ¸¬è©¦å’Œé©—è­‰

é€™å€‹ç³»çµ±å¤§å¹…æå‡äº†æ‡‰ç”¨çš„ç©©å®šæ€§å’Œç”¨æˆ¶é«”é©—ï¼ŒåŒæ™‚ç‚ºé–‹ç™¼å’Œç¶­è­·æä¾›äº†å¼·å¤§çš„å·¥å…·æ”¯æ´ã€‚é€éæŒçºŒçš„ç›£æ§å’Œæ”¹é€²ï¼Œå°‡æŒçºŒæå‡ç³»çµ±çš„éŒ¯èª¤è™•ç†èƒ½åŠ›å’Œæ•´é«”å“è³ªã€‚

---

**å¯¦æ–½æ—¥æœŸ**ï¼š2025-08-03  
**å¯¦æ–½ç‹€æ…‹**ï¼šâœ… å®Œæˆ  
**ä¸‹ä¸€éšæ®µ**ï¼šç›£æ§å’Œå„ªåŒ–